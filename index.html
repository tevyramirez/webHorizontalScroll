<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="
https://cdn.jsdelivr.net/npm/locomotive-scroll@4.1.4/dist/locomotive-scroll.min.js
"></script>
    <link href="//db.onlinewebfonts.com/c/1c87f20c55baa7eccc98b8603b5eecea?family=Grifinito+L" rel="stylesheet"
        type="text/css" />
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div class="blocks">
        <div class="block init" data-block-section="1" data-href="home">
            <div class="block__title">Home</div>
            <div class="block__number">01</div>
        </div>
        <div class="block init" data-block-section="2" data-href="quienessomos">
            <div class="block__title">Quienes Somos</div>
            <div class="block__number">02</div>
        </div>
        <div class="block init" data-block-section="3" data-href="equipamiento">
            <div class="block__title">Equipamiento</div>
            <div class="block__number">03</div>
        </div>
        <div class="block init" data-block-section="4" data-href="producciones">
            <div class="block__title">Producciones</div>
            <div class="block__number">04</div>
        </div>
        <div class="block init" data-block-section="5" data-href="contacto">
            <div class="block__title">Contacto</div>
            <div class="block__number">05</div>
        </div>
    </div>

    <main data-scroll-container>
        <div class="wrap" data-scroll-section>
            <section class="section home" data-block-section="1" id="home">
                Lorem ipsum dolor, <br />
                sit amet consectetur adipisicing elit. <br />
                Aliquam, voluptates!
            </section>
            <section class="section collection" data-block-section="2" id="quienessomos">
                Lorem ipsum dolor, <br />
                sit amet consectetur adipisicing elit. <br />
                Aliquam, voluptates!
            </section>
            <section class="section material" data-block-section="3" id="equipamiento">
                Lorem ipsum dolor, <br />
                sit amet consectetur adipisicing elit. <br />
                Aliquam, voluptates!
            </section>
            <section class="section production" data-block-section="4" id="producciones">
                Lorem ipsum dolor, <br />
                sit amet consectetur adipisicing elit. <br />
                Aliquam, voluptates!
            </section>
            <section class="section contact" data-block-section="5" id="contacto">
                Lorem ipsum dolor, <br />
                sit amet consectetur adipisicing elit. <br />
                Aliquam, voluptates!
            </section>
        </div>

    </main>
    <script>
        const scroll = new LocomotiveScroll({
            el: document.querySelector('[data-scroll-container]'),
            smooth: true,
            direction: "horizontal",
        });

        let blocks = document.querySelectorAll(".block[data-block-section]");
        scroll.on("scroll", (args) => {
            blocks.forEach((block) => {
                let attr = block.getAttribute("data-block-section");
                let section = document.querySelector(
                    `section[data-block-section='${attr}']`)
                    ;
           
                if (
                    section.getBoundingClientRect().left <=
                    block.offsetWidth * attr
                ) {
                    block.classList.add("fixed");
                    block.classList.remove("init");
                    block.style.left = "";

                } else if (
                    section.getBoundingClientRect().left >=
                    window.innerWidth - block.offsetWidth * (blocks.length - attr)
                ) {
                    block.classList.add("init");
                    block.classList.remove("fixed");
                    block.style.left = "";
                } else {
                    block.classList.remove("fixed");
                    block.classList.remove("init");
                }
                if (block.classList.contains("active")) {
                    block.style.left = section.getBoundingClientRect().left + "px";
                }
            });
        });

    </script>
</body>

</html>